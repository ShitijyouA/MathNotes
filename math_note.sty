\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{ascmac}
%\usepackage{breqn} %% cause error with xypic package
\usepackage{enumerate}
\usepackage{mathrsfs}
\usepackage{url}
\usepackage{bussproofs}
\usepackage{stmaryrd}

\newtheoremstyle{mathnotestyle}% % Name
    {}%                      % Space above
    {}%                      % Space below
    {\normalfont}%           % Body font
    {}%                      % Indent amount
    {\bf}%                   % Theorem head font
    {}%                      % Punctuation after theorem head
    {\newline}%              % Space after theorem head, ' ', or \newline
    {}%                      % Theorem head spec (can be left empty, meaning `normal')
\theoremstyle{mathnotestyle}
\newtheorem{Thm}{定理}[section]
\newtheorem*{Thm*}{定理}
\newtheorem{Def}[Thm]{定義}
\newtheorem{Lemma}[Thm]{補題}
\newtheorem{Prop}[Thm]{命題}
\newtheorem{Claim}[Thm]{主張}
\newtheorem{Cor}[Thm]{系}
\newtheorem{Remark}[Thm]{注意}
\newtheorem{Example}[Thm]{例}

\renewcommand{\proofname}{\textnormal{(証明)}}
\renewcommand{\qedsymbol}{\rule[-2pt]{5pt}{10pt}}

%% \footnote => †1, †2, †3, ...
\renewcommand\thefootnote{\dag\arabic{footnote}}

%% \kenten {{{
\makeatletter
\def\kenten#1{%
   \ifvmode\leavevmode\else\hskip\kanjiskip\fi
   \setbox1=\hbox to \z@{・\hss}% 「・」は全角の中黒
   \ht1=.63zw
   \@kenten#1\end}
\def\@kenten#1{%
   \ifx#1\end \let\next=\relax \else
     \raise.63zw\copy1\nobreak #1\hskip\kanjiskip\relax
     \let\next=\@kenten
   \fi\next}

\def\rensuji#1{\hskip\xkanjiskip
  \hbox to 1zw{\yoko\hss#1\hss}\hskip\xkanjiskip\relax}

\makeatother
%% }}}

%% \mapedfrom {{{
\newcommand{\mapedfrom}{\mapsfrom} %% from stmaryrd.sty
%% }}}

%% defmap environment {{{
\usepackage{array}   % for \newcolumntype macro
\newcolumntype{L}{>{$\displaystyle}l<{$}} % math-mode version of "l" column type
\newcolumntype{R}{>{$\displaystyle}r<{$}} % math-mode version of "r" column type
\newcolumntype{C}{>{$\displaystyle}c<{$}} % math-mode version of "c" column type
\newenvironment{defmap}[0]
{\begin{center}\begin{tabular}{LCLC}}
{\end{tabular}\end{center}}
%% usage:
%    \begin{defmap}
%        f:& X& \to& Y \\ 
%        {}& x& \mapsto& x+1
%    \end{defmap}
%% }}}

%% symbols
\mathchardef\mdash="2D %% dash in math-mode
\newcommand{\mor}           {\text{ or }}
\newcommand{\mand}          {\text{ and }}
\newcommand{\mwhere}        {~~\text{where}~~}
\newcommand{\mnot}          {/\hspace{-1.2ex}} %% different from \not

%% accent
%% usage of \sidebar: \overline{(long long term)} -> (long long term)\sidebar
\newcommand{\sidebar}{\,\bar{}\,}
\newcommand{\sidecheck}{\,\check{}\,}
\newcommand{\sidetilde}{\,\tilde{}\,}
\newcommand{\ccheck}[1]{#1\sidecheck\sidecheck}

%% fundamental spaces
\newcommand {\C}            {\mathbb{C}}
\newcommand {\R}            {\mathbb{R}}
\newcommand {\Q}            {\mathbb{Q}}
\newcommand {\Z}            {\mathbb{Z}}
\newcommand {\N}            {\mathbb{N}}

%% general category theory
\newcommand {\cat}          [1]{\mathbf{#1}}
\newcommand {\id}           [1]{\mathrm{id}_{#1}}
\newcommand {\Hom}          {\operatorname{Hom}}
\newcommand {\dom}          {\operatorname{dom}}
\newcommand {\cod}          {\operatorname{cod}}
\newcommand {\eq}           {\operatorname{eq}}
\newcommand {\coeq}         {\operatorname{coeq}}

%% topology theory
\newcommand{\open}          [1]{\mathcal{O}_{#1}} %% open sets
\newcommand{\closed}        [1]{\mathcal{A}_{#1}} %% closed sets
\newcommand{\cl}            {\operatorname{cl}} %% closure
\newcommand{\opint}         {\operatorname{int}} %% !!CAUTION!! THIS IS NOT \int ! \int is already defined.
\newcommand{\pr}            {\operatorname{pr}} %% projection map(from a product space)
\newcommand{\codim}         {\operatorname{codim}}
\newcommand{\ClosedIn}      {\text{ :: closed in }}
\newcommand{\OpenIn}        {\text{ :: open in }}
\newcommand{\emb}           {\operatorname{emb}} %% embedding map
\newcommand{\incl}          {\operatorname{incl}} %% inclusion map

%% abelian category
%\newcommand {\ker}          {\operatorname{ker}}
\newcommand{\coker}         {\operatorname{coker}}
\newcommand{\im}            {\operatorname{im}}
\newcommand{\coim}          {\operatorname{coim}}

%% commutative algebra
\newcommand{\I}             [1]{\mathfrak{#1}} %% I(deal)
\newcommand{\Spec}          {\operatorname{Spec}}
\newcommand{\Max}           {\operatorname{Max}}
\newcommand{\Ann}           {\operatorname{Ann}}
\newcommand{\Supp}          {\operatorname{Supp}}
\newcommand{\Jac}           {\operatorname{Jac}}
\newcommand{\Nil}           {\operatorname{Nil}}
\newcommand{\height}        {\operatorname{height}}
\newcommand{\length}        {\operatorname{length}}
\newcommand{\Quot}          {\operatorname{Quot}} %% quotient field
\newcommand{\divible}       {\!\backslash\,} %% not just m|n
\newcommand{\ndivible}      {\!\!\not\!\backslash\,}

%% field theory
\newcommand{\fchar}         {\operatorname{char}} %% characteristic of a field
\newcommand{\transdeg}      {\mathrm{tr.deg.\,}}
\newcommand{\irr}           {\operatorname{irr}} %% irreducible(minimal) polynomial
\newcommand{\Gal}           {\operatorname{Gal}}

%% algebraic geometry
\newcommand{\zeros}         {\mathcal{Z}} %% zero points in general space
\newcommand{\defs}          {\mathcal{I}} %% define ideal in general space
\newcommand{\zerosa}        {\zeros_a} %% zero points in affine space
\newcommand{\zerosp}        {\zeros_p} %% zero points in affine space
\newcommand{\defsa}         {\defs_a} %% define ideal in affine space
\newcommand{\defsp}         {\defs_p} %% define ideal in projective space
\newcommand{\proj}          {\mathbb{P}} %% the projective space
\newcommand{\affine}        {\mathbb{A}} %% the affine space
\newcommand{\reg}           [2]{\langle #1,#2 \rangle} %% a regular function f on U : <U,f>
\newcommand{\sect}          [2]{\langle #1,#2 \rangle} %% a section on U : <U,s>
\newcommand{\germ}          [2]{\langle #1,#2 \rangle} %% a germ f on U : <U,f>
\newcommand{\Proj}          {\operatorname{Proj}} %% \Spec is defined in 'commutative algebra' section
\newcommand{\res}           {\operatorname{res}} %% restriction map
\newcommand{\basesp}        {\operatorname{sp}} %% base topologicall space

%% equivalence relation of varieties {{{
%% the more rigid, the less tilde and more bar.
%\newcommand{\iso}           {\equiv} %% isomorphic (3bar)
%\newcommand{\bi}            {\cong} %% birational (1tilde 2bar)
%\newcommand{\homeo}         {\approx} %% homeomorphic (2tilde)
%% \Xi
%% triple vertical bar
%% \doteq
%% \simeq
%% \approx

%% and maps
%\newcommand{\isomap}        {\xrightarrow{\iso}}
%\newcommand{\bimap}         {\xrightarrow{\bi}}
%\newcommand{\homeomap}      {\xrightarrow{\homeo}}

%% }}}

%% equivalence relation of schemes {{{
\newcommand{\iso}           {\cong} %% isomorphic (3bar)
\newcommand{\homeo}         {\approx} %% homeomorphic (2tilde)

%% and maps
\newcommand{\isomap}        {\xrightarrow{\iso}}
\newcommand{\homeomap}      {\xrightarrow{\homeo}}

%% }}}

%% symbols of sheaves {{{
\newcommand{\shA}{\mathcal{A}}
\newcommand{\shB}{\mathcal{B}}
\newcommand{\shC}{\mathcal{C}}
\newcommand{\shD}{\mathcal{D}}
\newcommand{\shE}{\mathcal{E}}
\newcommand{\shF}{\mathcal{F}}
\newcommand{\shG}{\mathcal{G}}
\newcommand{\shH}{\mathcal{H}}
\newcommand{\shI}{\mathcal{I}}
\newcommand{\shJ}{\mathcal{J}}
\newcommand{\shK}{\mathcal{K}}
\newcommand{\shL}{\mathcal{L}}
\newcommand{\shM}{\mathcal{M}}
\newcommand{\shN}{\mathcal{N}}
\newcommand{\shO}{\mathcal{O}}
\newcommand{\shP}{\mathcal{P}}
\newcommand{\shQ}{\mathcal{Q}}
\newcommand{\shR}{\mathcal{R}}
\newcommand{\shS}{\mathcal{S}}
\newcommand{\shT}{\mathcal{T}}
\newcommand{\shU}{\mathcal{U}}
\newcommand{\shV}{\mathcal{V}}
\newcommand{\shW}{\mathcal{W}}
\newcommand{\shX}{\mathcal{X}}
\newcommand{\shY}{\mathcal{Y}}
\newcommand{\shZ}{\mathcal{Z}}
%% }}}

\usepackage[scr=boondoxo,scrscaled=1.0]{mathalfa}
\newcommand{\shHom}{\mathscr{H\!o\!m}} %% sheaf Hom

%% liner algebra
\newcommand{\tatev}         [1]{\begin{bmatrix}#1\end{bmatrix}}
\newcommand{\rank}          {\operatorname{rank}}
\newcommand{\opnull}        {\operatorname{null}}

%% logic
\newcommand{\Forall}        [1]{ {}^{\forall} #1,~~ }
\newcommand{\Exists}        [1]{ {}^{\exists} #1,~~ }
\newcommand{\lbra}          [1]{\left[#1\right]}

